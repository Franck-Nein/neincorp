function getEventX(b){var a=0;if(b.pageX||b.pageY){a=b.pageX}else{if(b.clientX||b.clientY){a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft}}return a}function getElementX(b){var a=0;if(b.offsetParent){do{a+=b.offsetLeft}while(b=b.offsetParent)}return a}function zeroPad(b,a){b=b.toString();return b.length>=a?b:"00000000".substring(0,a-b.length)+b}function capturegraph_scale_is_required(b){var a=0;var d=1000;for(var c=0;c<b.length;c++){var e=b[c];a=Math.max(a,Math.max.apply(null,e[1]));d=Math.min(d,Math.min.apply(null,e[1].filter(Boolean)))}return(Math.log1p(a)-Math.log1p(d)>3)}function capturegraph_scale(c){var a=0;for(var d=0;d<c.length;d++){a=Math.max(a,Math.max.apply(null,c[d][1]))}if(capturegraph_scale_is_required(c)){var b=[];for(var d=0;d<c.length;d++){var e=c[d];b.push([e[0],e[1].map(Math.log1p)])}c=b;a=Math.log1p(a)}return[c,a]}function sparkline(k,p,m,a,v,A,n){var s=a.getContext("2d");if(!s){return}s.fillStyle="#FFF";var q=new Date().getUTCFullYear();var g=p/(q-v+1);var o=capturegraph_scale(k.years);var t=o[0];var d=o[1];var y=m/d;function c(h){return Math.ceil((h-v)*g)+0.5}if(A>=v){var j=c(A);s.fillStyle="#FFFFA5";s.fillRect(j,0,g,m)}for(var l=v;l<=q;l++){var j=c(l);s.beginPath();s.moveTo(j,0);s.lineTo(j,m);s.lineWidth=1;s.strokeStyle="#CCC";s.stroke()}n=parseInt(n)-1;var r=(g-1)/12;for(var u=0;u<t.length;u++){var l=t[u][0];var f=t[u][1];var b=c(l)+1;for(var z=0;z<12;z++){var e=f[z];if(e>0){var w=Math.ceil(e*y);if(l==A&&z==n){s.fillStyle="#EC008C"}else{s.fillStyle="#000"}s.fillRect(Math.round(b),Math.ceil(m-w),Math.ceil(r),Math.round(w))}b+=r}}}function clear_canvas(b){var d=document.getElementById(b);if(!d||!d.getContext){return}var a=d.getContext("2d");if(!a){return}a.clearRect(0,0,d.width,d.height)};
